(this.webpackJsonpentrenador=this.webpackJsonpentrenador||[]).push([[0],{42:function(e,t,a){e.exports=a(76)},47:function(e,t,a){},48:function(e,t,a){},53:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(26),c=a.n(o),u=(a(47),a(48),a(19)),l=a(77),i=a(78),s=a(13),m=a(8);a(53);var d=Object(m.b)((function(e){return{jugadores:e.jugadores,datosGrilla:e.datos}}),(function(e){return{agregarTitular:function(t){e({type:"AGREGAR_TITULAR",jugador:t})},agregarSuplente:function(t){e({type:"AGREGAR_SUPLENTE",jugador:t})},cargarDatosGrilla:function(t){e({type:"OBTENER_DATOS_GRILLA",datosGrid:t})}}}))((function(e){var t=e.jugadores,a=e.datosGrilla,r=e.agregarTitular,o=e.agregarSuplente,c=e.cargarDatosGrilla;return n.a.createElement("section",null,n.a.createElement("h2",null,"Jugadores"),n.a.createElement(s.b,{to:"/jugadores",className:"link-to-admin"},n.a.createElement(l.a,{variant:"primary",className:"btn-admin",onClick:function(){return c(a)}},"Administrar jugadores")),n.a.createElement("div",{className:"h-scroll jugador-hscroll"},n.a.createElement("div",{className:"jugadores-container"},t.map((function(e){return n.a.createElement("article",{className:"jugador",key:e.key},n.a.createElement("img",{src:e.foto,alt:e.nombre}),n.a.createElement("h4",null,e.nombre),n.a.createElement(i.a,null,n.a.createElement(l.a,{variant:"success",onClick:function(){return r(e)},className:"btn-titular"},"Titular"),n.a.createElement(l.a,{variant:"primary",onClick:function(){return o(e)},className:"btn-suplente"},"Suplente")))})))))})),f="INICIALIZAR_DATA",p="AGREGAR_TITULAR",g="ELIMINAR_TITULAR",b="AGREGAR_SUPLENTE",E="ELIMINAR_SUPLENTE",j="OBTENER_DATOS_GRILLA",v="FILTRAR_GRILLA",h="PAGINAR",y="INSERTAR_REGISTRO",k="ACTUALIZAR_REGISTRO",O="ELIMINAR_REGISTRO",N="EDITAR_REGISTRO",R=(a(55),Object(m.b)((function(e){return{titulares:e.titulares}}),(function(e){return{quitarTitular:function(t){e({type:g,jugador:t})}}}))((function(e){var t=e.titulares,a=e.quitarTitular;return n.a.createElement("section",null,n.a.createElement("h2",null,"Titulares"),n.a.createElement("div",{className:"h-scroll cancha"},n.a.createElement("img",{id:"img-cancha",src:"https://firebasestorage.googleapis.com/v0/b/entrenador-62f6b.appspot.com/o/cancha.jpg?alt=media&token=84d142a8-579e-483c-8c6d-a69256121123",alt:"cancha-footbol"}),n.a.createElement("div",{className:"titulares-controller"},t.map((function(e){return n.a.createElement("article",{className:"titular",key:e.key},n.a.createElement("img",{src:e.foto,alt:e.nombre}),n.a.createElement("h4",null,e.nombre),n.a.createElement(l.a,{variant:"danger",className:"btn-eliminar",onClick:function(){return a(e)}},"X"))})))))})));a(56);var x=Object(m.b)((function(e){return{suplentes:e.suplentes}}),(function(e){return{eliminarSuplente:function(t){e({type:E,jugador:t})}}}))((function(e){var t=e.suplentes,a=e.eliminarSuplente;return n.a.createElement("section",null,n.a.createElement("h2",null,"Suplentes"),n.a.createElement("div",{className:"h-scroll suplente-hscroll"},n.a.createElement("div",{className:"suplentes-container"},t.map((function(e){return n.a.createElement("article",{className:"suplente",key:e.key},n.a.createElement("img",{src:e.foto,alt:e.nombre,className:""}),n.a.createElement("h4",null,e.nombre),n.a.createElement(l.a,{variant:"danger",className:"btn-eliminar",onClick:function(){return a(e)}},"X"))})))))})),G=function(){return n.a.createElement("div",null,n.a.createElement(R,null),n.a.createElement(x,null))},w=a(7),I=a.n(w),A=a(17),L=a(34),C=a.n(L);C.a.initializeApp({apiKey:"AIzaSyBAIDjG3ZivD8zztBeK2VfWN2vUIh7eFIw",authDomain:"entrenador-62f6b.firebaseapp.com",databaseURL:"https://entrenador-62f6b.firebaseio.com",projectId:"entrenador-62f6b",storageBucket:"entrenador-62f6b.appspot.com",messagingSenderId:"325429659428",appId:"1:325429659428:web:77ed6f5b92fbe255f415b1",measurementId:"G-382BN52HWC"});var S=C.a;function T(e){return D.apply(this,arguments)}function D(){return(D=Object(A.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://entrenador-62f6b.firebaseio.com/jugadores/".concat(t,".json")).then((function(e){return e.json()})).then((function(e){return{key:t,id:e.id,nombre:e.nombre,foto:e.foto}})).catch((function(e){return e.message}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){return F.apply(this,arguments)}function F(){return(F=Object(A.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.database().ref("jugadores/"+t).remove().then((function(){return!0}),(function(e){return!1}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e){return P.apply(this,arguments)}function P(){return(P=Object(A.a)(I.a.mark((function e(t){var a,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=S.database().ref("jugadores"),r=a.push().key,e.next=4,a.child(r).set({id:t.id,nombre:t.nombre,foto:t.foto}).then((function(e){return!0})).catch((function(e){return!1}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e){return B.apply(this,arguments)}function B(){return(B=Object(A.a)(I.a.mark((function e(t){var a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=S.database().ref("jugadores/"+t.key),e.next=3,a.update({id:t.id,nombre:t.nombre,foto:t.foto}).then((function(e){return!0})).catch((function(e){return!1}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var M=Object(m.b)((function(e){return{}}),(function(e){return{inicializarData:function(t){e({type:f,jugadores:t})}}}))((function(e){var t=e.inicializarData;return Object(r.useEffect)((function(){S.database().ref("jugadores").on("value",(function(e){var a=e.val(),r=[];for(var n in a)r.push({key:n,id:a[n].id,nombre:a[n].nombre,foto:a[n].foto});t(r)}))}),[t]),""}));function J(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(M,null),n.a.createElement("h1",null,"FootManager"),n.a.createElement(d,null),n.a.createElement(G,null))}var K=a(81);a(68);var V=Object(m.b)((function(e){return{datosGrid:e.datosGrid,activePag:e.activePag,cantRegistrosGrilla:e.cantRegistrosGrilla}}),(function(e){return{cargarDatosGrilla:function(){e({type:j,pagina:1})},paginar:function(t){e({type:h,pagina:t})},eliminarRegistro:function(t){e({type:O,key:t})}}}))((function(e){var t=e.datosGrid,a=e.activePag,r=e.paginar,o=e.cantRegistrosGrilla,c=e.eliminarRegistro,u=e.cargarDatosGrilla;return n.a.createElement("div",null,n.a.createElement("br",null),n.a.createElement("div",null,n.a.createElement(K.a,{className:"pagination-buttons"},function(){for(var e=[],t=function(t){e.push(n.a.createElement(K.a.Item,{key:t,active:t===a,onClick:function(){return r(t)}},t))},c=1;c<=Math.ceil(o/5);c++)t(c);return e}()),n.a.createElement("br",null)),n.a.createElement("table",{className:"table"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Rut"),n.a.createElement("th",null,"Nombre"),n.a.createElement("th",null,"Foto"),n.a.createElement("th",null,"Acci\xf3n"))),n.a.createElement("tbody",null,console.log(t),t.map((function(e){return n.a.createElement("tr",{key:e.key},n.a.createElement("td",{className:"col-id"},e.id),n.a.createElement("td",{className:"col-nombre"},e.nombre),n.a.createElement("td",{className:"col-foto"},n.a.createElement("img",{src:e.foto,alt:e.id})),n.a.createElement("td",{className:"col-accion"},n.a.createElement(s.b,{to:"/jugadores/"+e.key,params:{reg:e}},n.a.createElement(l.a,{variant:"success",className:"edit-button"},"Editar")),n.a.createElement(l.a,{variant:"danger",className:"delete-button",onClick:function(){return t=e.key,void(window.confirm("\xbfDesea eliminar el registro?")&&(_(t)?(c(t),u(),alert("El registro ha sido eliminado")):alert("Ocurrio un error al intentar eliminar el registro")));var t}},"Eliminar")))})))))})),H=a(16);a(69);var W=Object(m.b)((function(e){return{}}),(function(e){return{aplicarFiltro:function(t,a){e({type:"FILTRAR_GRILLA",texto:t,pagina:a})}}}))((function(e){var t=e.aplicarFiltro,a=Object(r.useState)(""),o=Object(H.a)(a,2),c=o[0],u=o[1],i=Object(r.useState)(1),m=Object(H.a)(i,2),d=m[0],f=(m[1],Object(r.useState)(!1)),p=Object(H.a)(f,2),g=p[0],b=p[1];Object(r.useEffect)((function(){g&&(t(c,d),b(!1))}),[g,b,t]);var E=function(e){var t=e.target.value;u(t),b(!0)};return n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-4"},n.a.createElement(s.b,{to:"/jugadores/nuevo"},n.a.createElement(l.a,{className:"btn-crud"},"Nuevo")),n.a.createElement(s.b,{to:"/"},n.a.createElement(l.a,{className:"btn-crud"},"Volver"))),n.a.createElement("div",{className:"col-md-4"}),n.a.createElement("div",{className:"col-md-4"},n.a.createElement("input",{type:"text",className:"form-control col-md-12",value:c,placeholder:"Texto a buscar.",onChange:function(e){return E(e)},onKeyUp:function(e){return E(e)}})))}));a(70);function Z(){return n.a.createElement("div",{className:"container-crud-jugadores"},n.a.createElement("h2",null,"Mantenedor de Jugadores"),n.a.createElement(W,null),n.a.createElement(V,null))}var q=a(80),X=a(79),$=a(41);var Q=function(e){for(var t=0,a=1;e;e=Math.floor(e/10))a=(a+e%10*(9-t++%6))%11;return a?a-1:"k"},Y=function(e){var t={};return e.rut?function(e){if(!/^[0-9]+[-|\u2010]{1}[0-9kK]{1}$/.test(e))return!1;var t=e.split("-"),a=t[1],r=t[0];return"K"===a&&(a="k"),Q(r).toString()===a}(e.rut)||(t.rut="El rut no es valido."):t.rut="El rut es obligatorio.",e.nombre||(t.nombre="El nombre es obligatorio."),e.foto||(t.foto="La foto es obligatoria."),t};a(71);var ee=Object(m.b)((function(e){return{datos:e.datos}}),(function(e){return{rdxInsertarRegistros:function(t){e({type:y,jugador:t})},rdxActualizarRegistro:function(t){e({type:k,jugador:t})},rdxEliminarRegistro:function(t){e({type:O,key:t})},cargarDatosGrilla:function(t){e({type:j,jugadores:t})}}}))((function(e){e.datos,e.rdxInsertarRegistros;var t=e.rdxActualizarRegistro,a=e.rdxEliminarRegistro,o=e.cargarDatosGrilla,c=Object(u.g)().id,i=Object(r.useState)("nuevo"===c?"":c),m=Object(H.a)(i,2),d=m[0],f=m[1],p=Object(r.useState)(""),g=Object(H.a)(p,2),b=g[0],E=g[1],j=Object(r.useState)(""),v=Object(H.a)(j,2),h=v[0],y=v[1],k=Object(r.useState)(""),O=Object(H.a)(k,2),N=O[0],R=O[1],x=Object(r.useState)(!0),G=Object(H.a)(x,2),w=G[0],L=G[1],C=Object(u.f)(),S=Object(r.useState)({}),D=Object(H.a)(S,2),F=D[0],P=D[1];function B(){return(B=Object(A.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(c);case 2:"string"!==typeof(t=e.sent)?(f(t.key),E(t.id),y(t.nombre),R(t.foto)):alert(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return(M=Object(A.a)(I.a.mark((function e(t){var a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y({rut:b,nombre:h,foto:N});case 2:a=e.sent,P(a),"{}"===JSON.stringify(a)?window.confirm("\xbfDesea grabar el registro?")&&("nuevo"!==c?V():J()):alert("Datos no v\xe1lidos");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(){return K.apply(this,arguments)}function K(){return(K=Object(A.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z({id:b,nombre:h,foto:N});case 2:if(!e.sent){e.next=8;break}o(),alert("El registro ha sido ingresado."),C.push("/jugadores"),e.next=9;break;case 8:alert("Ocurrio un error al intentar ingresar el registro.");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(){return W.apply(this,arguments)}function W(){return(W=Object(A.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U({key:d,id:b,nombre:h,foto:N});case 2:if(!e.sent){e.next=9;break}t({key:d,id:b,nombre:h,foto:N}),o(),alert("El registro ha sido actualizado"),C.push("/jugadores"),e.next=10;break;case 9:alert("Ocurrio un error al intentar actualizar el registro.");case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){w&&"nuevo"!==c&&(L(!1),function(){B.apply(this,arguments)}())}),[w,c]),n.a.createElement("div",{className:"container-crud-jugadores"},n.a.createElement("h2",null,"Mantenedor de Jugadores"),n.a.createElement(q.a,null,n.a.createElement(q.a.Group,{as:X.a,controlId:"formHorizontalEmail"},n.a.createElement(q.a.Label,{column:!0,sm:2},"Rut:"),n.a.createElement($.a,{sm:5},n.a.createElement(q.a.Control,{type:"text",placeholder:"Ej. 12345678-9",value:b,onChange:function(e){return E(e.target.value)},maxLength:"11",className:"input-rut"}),F.rut&&n.a.createElement("span",{className:"error-span"}," ",F.rut," "))),n.a.createElement(q.a.Group,{as:X.a,controlId:"formHorizontalEmail"},n.a.createElement(q.a.Label,{column:!0,sm:2},"Nombre:"),n.a.createElement($.a,{sm:5},n.a.createElement(q.a.Control,{type:"text",placeholder:"Nombre",value:h,onChange:function(e){return y(e.target.value)},maxLength:"35"}),F.nombre&&n.a.createElement("span",{className:"error-span"}," ",F.nombre," "))),n.a.createElement(q.a.Group,{as:X.a,controlId:"formHorizontalPassword"},n.a.createElement(q.a.Label,{column:!0,sm:2},"Foto"),n.a.createElement($.a,{sm:10},n.a.createElement(q.a.Control,{type:"text",placeholder:"Foto",value:N,onChange:function(e){return R(e.target.value)}}),F.foto&&n.a.createElement("span",{className:"error-span"}," ",F.foto," "))),n.a.createElement(q.a.Group,{as:X.a,className:"button-group"},n.a.createElement(l.a,{type:"button",variant:"info",className:"btnGrabar",onClick:function(){return function(e){return M.apply(this,arguments)}()}},"Grabar"),n.a.createElement(l.a,{type:"button",variant:"danger",className:"btnEliminar",onClick:function(){window.confirm("\xbfDesea eliminar el registro?")&&(_(c)?(a(c),o(),alert("El registro ha sido eliminado"),C.push("/jugadores")):alert("Ocurri\xf3 un error al intentar eliminar el registro. "))}},"Eliminar"),n.a.createElement(s.b,{to:"/jugadores"},n.a.createElement(l.a,{type:"button",className:"btnVolver",onClick:function(){return o()}}," Volver")))))})),te=(a(74),a(75),a(12)),ae=a(28),re={jugadores:[],titulares:[],suplentes:[],datos:[],datosGrid:[],activePag:1,textoFiltro:"",cantRegistrosGrilla:0,selectedRecord:{key:null,id:"",nombre:"",foto:""}},ne=Object(ae.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0,a=1,r=[],n=0;switch(t.type){case f:var o=t.jugadores.map((function(t,a){if(!Object.keys(e.datos).includes(a.toString()))return t})).filter((function(e){return void 0!==e}));return n=e.jugadores.length+o.length,console.log(o),Object(te.a)({},e,{jugadores:e.jugadores.concat(o),datos:e.datos.concat(o),cantRegistrosGrilla:n});case p:return Object(te.a)({},e,{jugadores:e.jugadores.filter((function(e){return e.key!==t.jugador.key})),titulares:e.titulares.concat(t.jugador)});case g:return Object(te.a)({},e,{titulares:e.titulares.filter((function(e){return e.key!==t.jugador.key})),jugadores:e.jugadores.concat(t.jugador)});case b:return Object(te.a)({},e,{suplentes:e.suplentes.concat(t.jugador),jugadores:e.jugadores.filter((function(e){return e.key!==t.jugador.key}))});case E:return Object(te.a)({},e,{suplentes:e.suplentes.filter((function(e){return e.key!==t.jugador.key})),jugadores:e.jugadores.concat(t.jugador)});case j:return a=5*e.activePag-5,Object(te.a)({},e,{datosGrid:e.datos.slice(a,a+5)});case v:return a=5*t.pagina-5,r=e.datos.filter((function(e){return e.nombre.toLowerCase().includes(t.texto.toLowerCase())||e.id.toLowerCase().includes(t.texto.toLowerCase())})),Object(te.a)({},e,{datosGrid:r.slice(a,a+5),cantRegistrosGrilla:r.length,textoFiltro:t.texto});case h:return a=5*t.pagina-5,r=""!==e.textoFiltro?e.datos.filter((function(a){return a.nombre.toLowerCase().includes(e.textoFiltro.toLowerCase())||a.id.toLowerCase().includes(t.texto.toLowerCase())})):e.datos,Object(te.a)({},e,{datosGrid:r.slice(a,a+5),activePag:t.pagina});case N:return Object(te.a)({},e,{selectedRecord:e.data.filter((function(e){return e.key===t.key}))});case y:return console.log("NUEVO...",t.jugador),Object(te.a)({},e,{datos:e.datos.concat(t.jugador)});case k:return Object(te.a)({},e,{datos:e.datos.map((function(e){return e.key===t.jugador.key?t.jugador:e}))});case O:return a=5*t.pagina-5,r=""!==e.textoFiltro?e.datos.filter((function(a){return a.nombre.toLowerCase().includes(e.textoFiltro.toLowerCase())||a.id.toLowerCase().includes(t.texto.toLowerCase())})):e.datos,Object(te.a)({},e,{datos:r.filter((function(e){return e.key!==t.key})),datosGrid:r.slice(a,a+5),jugadores:e.jugadores.filter((function(e){return e.key!==t.key}))});default:return e}}));var oe=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(m.a,{store:ne},n.a.createElement(u.c,null,n.a.createElement(u.a,{exact:!0,path:"/",component:J}),n.a.createElement(u.a,{exact:!0,path:"/jugadores",component:Z}),n.a.createElement(u.a,{exact:!0,path:"/jugadores/:id",component:ee}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(s.a,null,n.a.createElement(oe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[42,1,2]]]);
//# sourceMappingURL=main.faee5f9d.chunk.js.map